# Small Blockchain

## Описание
Простой Blockchain на Python с использованием веб-серверов, созданных при помощи фреймворка Flask. 

Проект состоит из трех объектов:
- **block** - класс для генерации блоков цепочки блокчейна, состоящих из следующих полей:
    - **index** - номер блока по возрастанию, начиная с 0 у `GENESIS`.
    - **hash** - хеш текущего блока, который вычисляется путем конкатенации всех других полей и пересчитывается путем изменения `nonce` до тех пор, пока не будет заканчиваться на `0000`
    - **prev_hash** - хеш предыдущего блока.
    - **data** - некоторые данные, которые являются случайной строчкой из 256 символов.
    - **nonce** - это дополнение, за счет изменения которого можно пересчитывать `hash`.
    - **timestamp** - временная метка
- **node** - класс текущей node, который хранит в себе информацию о цепочке блокчейна на данном сервере и содержит функцию для обработки нового блока. В случае добавления при помощи еще одной функции этот блок будет распечатан. 
- **server** - класс, за счет которого создается серверная реализация блокчейна с помощью фреймворка Flask

## Тестирование

master: [![Tests](https://github.com/KoTTiG/ChainBlock/actions/workflows/python-app.yml/badge.svg?branch=master)](https://github.com/igalaxy00/A.Block/actions/workflows/python-app.yml)

develop: [![Tests](https://github.com/KoTTiG/ChainBlock/actions/workflows/python-app.yml/badge.svg?branch=develop)](https://github.com/igalaxy00/A.Block/actions/workflows/python-app.yml)

## Запуск проекта
Для запуска проекта требуется произвести следующие действия:

1)  Клонировать проект на устройство

```git clone https://github.com/KoTTiG/ChainBlock.git```

2) В папке проекта выполнить

```
docker-compose build
docker-compose up   
```

## Тестирование

Реализованы следующие виды тестов.

*Модульные тесты:* 
* Конвертация блок в JSON-формат и обратно
* Генерация genesis блока
* Генерация данных
* Получение хэша по атрибутам блока
* Генерация правильного хэша
* Генерация цепочки блоков и её валидность

*Интеграционные тесты:*
* Получение блока/блоков от соседних узлов и обработка полученного блока
* Отправка сгенерированного блока соседним узлам
* Проверка работы трех узлов

Так же реализован тестовый пайплайн Github Actions с запуском тестов на разных ОС: Linux, Windows, MacOS.